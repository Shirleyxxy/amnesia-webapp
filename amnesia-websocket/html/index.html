<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Amnesia Demo</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link rel="stylesheet" type="text/css" href="style.css"/>
</head>


<body class="body">

<h1 class="heading">Amnesia Demo</h1>
<p><em>Amnesia</em> enables users to decrementally update trained machine learning models in order to
efficiently and reliably “forget” the sensitive personal data from applications that contain ML models.
Our web app serves to demonstrate the corresponding decremental changes of history matrix, total item interactions, cooccurrence matrix,
and similarity matrix for an item-based collaborative filtering model after adding or removing the data of a particular user.</p>

<div class="wrapper">
<button id='initialize'>Initialize</button>
</div>

<div class="container">
<form id="form">
    <input type="text" id="msg" placeholder=" Please write your request here..."size=80>
    <input type="submit" id="submitButton" value="Submit">
</form>

<br/>

<form id="addForm">
    <div>
    <input type="text" id="addNewUserId" placeholder=" New User ID">
    </div>
    <div>
    <input type="text" id="addNewItemId" placeholder=" Movie ID(s)">
    </div>
    <div>
    <input type="submit" id="addButton" value="Add">
    </div>
</form>

<br/>

<form id="removeForm">
    <input type='text' id='removeUserId' placeholder=" User ID to Remove"><br>
    <input type="submit" id="removeButton" value="Remove">
</form>

<br/>

<h4>Request Infomation: </h4>
<p id="requestInfo">Request Information To Display</p>

</div>

<br/>

<div id="images_group">
    <img src="images/Frozen.jpg" class="movie-image">
    <img src="images/IT.jpg" class="movie-image">
    <img src="images/Joker.jpg" class="movie-image">
    <img src="images/Midway.jpg" class="movie-image">
</div>

<br/>

<div class="tables">

<div class='caption'>User Item Matrix</div>
<div class='matrix'>

<table id="interaction_matrix">
    <thead id='table-header'>
        <th scope="col">Movies</th>
        <th scope="col">Frozen</th>
        <th scope="col">IT</th>
        <th scope="col">Joker</th>
        <th scope="col">Midway</th>
    </thead>
    <tbody id="user-item-value">
        <tr id="user1">
            <th scope='row'>User1</th>
            <td id="interaction_matrix_1_0" class="user-item-interactions">0</td>
            <td id="interaction_matrix_1_1" class="user-item-interactions">0</td>
            <td id="interaction_matrix_1_2" class="user-item-interactions">0</td>
            <td id="interaction_matrix_1_3" class="user-item-interactions">0</td>
        </tr>
        <tr id="user2">
            <th scope='row'>User2</th>
            <td id="interaction_matrix_2_0" class="user-item-interactions">0</td>
            <td id="interaction_matrix_2_1" class="user-item-interactions">0</td>
            <td id="interaction_matrix_2_2" class="user-item-interactions">0</td>
            <td id="interaction_matrix_2_3" class="user-item-interactions">0</td>
        </tr>
        <tr id="user3">
            <th scope='row'>User3</th>
            <td id="interaction_matrix_3_0" class="user-item-interactions">0</td>
            <td id="interaction_matrix_3_1" class="user-item-interactions">0</td>
            <td id="interaction_matrix_3_2" class="user-item-interactions">0</td>
            <td id="interaction_matrix_3_3" class="user-item-interactions">0</td>
        </tr>
    </tbody>
</table>
</div>

<br/>

<div class='caption'>Number of interactions per item</div>

<p class="equation">
    \( \mathbf{n} = \sum_i \; \mathbf{H}_i \)
</p>

<div class='matrix'>

<table id="interactions_per_item">
    <thead>
        <th scope="col">Frozen</th>
        <th scope="col">IT</th>
        <th scope="col">Joker</th>
        <th scope="col">Midway</th>
    </thead>
    <tbody>
        <td id="interactions_per_item_0" class="num-interactions-cell">0</td>
        <td id="interactions_per_item_1" class="num-interactions-cell">0</td>
        <td id="interactions_per_item_2" class="num-interactions-cell">0</td>
        <td id="interactions_per_item_3" class="num-interactions-cell">0</td>
    </tbody>
</table>
</div>

<br/>

<div class='caption'>Item cooccurrence matrix</div>

<p class="equation">
    \( \mathbf{C} = \; \mathbf{H}_i^\top \mathbf{H}_i \)
</p>

<div class='matrix'>

<table id="cooccurrences">
    <thead>
        <th scope="col"></th>
        <th scope="col">Frozen</th>
        <th scope="col">IT</th>
        <th scope="col">Joker</th>
        <th scope="col">Midway</th>
    </thead>
    <tbody>
        <tr>
            <th scope="row">Frozen</th>
            <td id="cooccurrences_0_0" class="cooccurrences-cell">-</td>
            <td id="cooccurrences_0_1" class="cooccurrences-cell">0</td>
            <td id="cooccurrences_0_2" class="cooccurrences-cell">0</td>
            <td id="cooccurrences_0_3" class="cooccurrences-cell">0</td>
        </tr>

        <tr>
            <th scope="row">IT</th>
            <td id="cooccurrences_1_0" class="cooccurrences-cell">0</td>
            <td id="cooccurrences_1_1" class="cooccurrences-cell">-</td>
            <td id="cooccurrences_1_2" class="cooccurrences-cell">0</td>
            <td id="cooccurrences_1_3" class="cooccurrences-cell">0</td>
        </tr>

        <tr>
            <th scope="row">Joker</th>
            <td id="cooccurrences_2_0" class="cooccurrences-cell">0</div>
            <td id="cooccurrences_2_1" class="cooccurrences-cell">0</div>
            <td id="cooccurrences_2_2" class="cooccurrences-cell">-</div>
            <td id="cooccurrences_2_3" class="cooccurrences-cell">0</div>
        </tr>

        <tr>
            <th scope="row">Midway</th>
            <td id="cooccurrences_3_0" class="cooccurrences-cell">0</td>
            <td id="cooccurrences_3_1" class="cooccurrences-cell">0</td>
            <td id="cooccurrences_3_2" class="cooccurrences-cell">0</td>
            <td id="cooccurrences_3_3" class="cooccurrences-cell">-</td>
        </tr>
    </tbody>
</table>
</div>


<br/>

<div class = 'caption'>Item similarity matrix</div>

<p class="equation">
    \( \mathbf{S} = \; [C_{ij} / (n_i + n_j - C_{ij})]_{ij} \)
</p>

<div class='matrix'>

<table id="similarities">
    <thead>
        <th scope="col"></th>
        <th scope="col">Frozen</th>
        <th scope="col">IT</th>
        <th scope="col">Joker</th>
        <th scope="col">Midway</th>
    </thead>
    <tbody>
        <tr>
            <th scope="row">Frozen</th>
            <td id="similarities_0_0" class="similarities-cell">-</td>
            <td id="similarities_0_1" class="similarities-cell">0</td>
            <td id="similarities_0_2" class="similarities-cell">0</td>
            <td id="similarities_0_3" class="similarities-cell">0</td>
        </tr>

        <tr>
            <th scope="row">IT</th>
            <td id="similarities_1_0" class="similarities-cell">0</td>
            <td id="similarities_1_1" class="similarities-cell">-</td>
            <td id="similarities_1_2" class="similarities-cell">0</td>
            <td id="similarities_1_3" class="similarities-cell">0</td>
        </tr>

        <tr>
            <th scope="row">Joker</th>
            <td id="similarities_2_0" class="similarities-cell">0</div>
            <td id="similarities_2_1" class="similarities-cell">0</div>
            <td id="similarities_2_2" class="similarities-cell">-</div>
            <td id="similarities_2_3" class="similarities-cell">0</div>
        </tr>

        <tr>
            <th scope="row">Midway</th>
            <td id="similarities_3_0" class="similarities-cell">0</td>
            <td id="similarities_3_1" class="similarities-cell">0</td>
            <td id="similarities_3_2" class="similarities-cell">0</td>
            <td id="similarities_3_3" class="similarities-cell">-</td>
        </tr>
    </tbody>
</table>
</div>
</div>

<br/>

<div class="log">
 <h3>Change Log from Differential Dataflow</h3>
 <pre id="messages"></pre>
</div>


<script src="script.js"></script>

</body>
</html>
